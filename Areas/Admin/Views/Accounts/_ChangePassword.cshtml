@model MyPhamCheilinus.ChangPassword.ChangePasswordViewModel1

@{
    ViewData["Title"] = "Thay đổi mật khẩu";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<div class="login-box mx-auto">
    <!-- /.login-logo -->
    <div class="card card-outline card-primary">
        <div class="card-header text-center">
            <a class="h3"><b>ĐỔI MẬT KHẨU</b></a>
        </div>
        <div class="card-body">
            <div asp-validation-summary="ModelOnly" class="text-danger"></div>
            <form asp-controller="Accounts" asp-action="ChangePasswor" method="post">
                <div class="form-group">
                    <label class="text-left font-weight-bold">Mật khẩu hiện tại:</label>
                    <input asp-for="PasswordNow" type="password" class="form-control" placeholder="Mật khẩu hiện tại">
                    <span asp-validation-for="PasswordNow" class="text-danger"></span>
                </div>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        // Lấy ra thẻ input chứa mật khẩu hiện tại
                        var passwordNowInput = document.querySelector('input[name="PasswordNow"]');
                        // Lấy ra thẻ span chứa thông báo lỗi
                        var passwordNowError = document.querySelector('span[data-valmsg-for="PasswordNow"]');

                        // Lắng nghe sự kiện submit của form
                        document.querySelector('form').addEventListener('submit', function (event) {
                            // Kiểm tra nếu giá trị của trường mật khẩu hiện tại là rỗng
                            if (!passwordNowInput.value.trim()) {
                                // Hiển thị thông báo lỗi
                                passwordNowError.textContent = "Mật khẩu hiện tại là trường bắt buộc không được để trống.";
                                // Ngăn chặn việc submit form
                                event.preventDefault();
                            }
                        });
                    });
                </script>

                <div class="form-group">
                    <label class="text-left font-weight-bold">Mật khẩu mới:</label>
                    <input asp-for="Password" type="password" class="form-control" placeholder="Mật khẩu mới">
                    <span asp-validation-for="Password" class="text-danger"></span>
                </div>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        // Lấy ra thẻ input chứa mật khẩu hiện tại
                        var passwordNowInput = document.querySelector('input[name="Password"]');
                        // Lấy ra thẻ span chứa thông báo lỗi
                        var passwordNowError = document.querySelector('span[data-valmsg-for="Password"]');

                        // Lắng nghe sự kiện submit của form
                        document.querySelector('form').addEventListener('submit', function (event) {
                            // Kiểm tra nếu giá trị của trường mật khẩu hiện tại là rỗng
                            if (!passwordNowInput.value.trim()) {
                                // Hiển thị thông báo lỗi
                                passwordNowError.textContent = "Mật khẩu mới là trường bắt buộc không được để trống.";
                                // Ngăn chặn việc submit form
                                event.preventDefault();
                            }
                        });
                    });
                </script>

                <div class="form-group">
                    <label class="text-left font-weight-bold">Nhập lại mật khẩu mới:</label>
                    <input asp-for="ConfirmPassword" type="password" class="form-control" placeholder="Nhập lại mật khẩu mới">
                    <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                </div>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        // Lấy ra thẻ input chứa mật khẩu hiện tại
                        var passwordNowInput = document.querySelector('input[name="ConfirmPassword"]');
                        // Lấy ra thẻ span chứa thông báo lỗi
                        var passwordNowError = document.querySelector('span[data-valmsg-for="ConfirmPassword"]');

                        // Lắng nghe sự kiện submit của form
                        document.querySelector('form').addEventListener('submit', function (event) {
                            // Kiểm tra nếu giá trị của trường mật khẩu hiện tại là rỗng
                            if (!passwordNowInput.value.trim()) {
                                // Hiển thị thông báo lỗi
                                passwordNowError.textContent = "Xác nhận mật khẩu mới là trường bắt buộc không được để trống.";
                                // Ngăn chặn việc submit form
                                event.preventDefault();
                            }
                        });
                    });
                </script>
                <div class="form-group">
                    <button type="submit" class="btn btn-primary btn-block">Lưu thay đổi</button>
                </div>
            </form>
        </div>
        <!-- /.card-body -->
    </div>
</div>
